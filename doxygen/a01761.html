<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Contiki-Inga 3.x: FAT Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Contiki-Inga 3.x
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">FAT Driver<div class="ingroups"><a class="el" href="a01760.html">The Contiki file system interface</a> &#124; <a class="el" href="a01764.html">Drivers</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Additional function for the FAT file system.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:a00144"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00144.html">cfs-fat.c</a></td></tr>
<tr class="memdesc:a00144"><td class="mdescLeft">&#160;</td><td class="mdescRight"><pre class="fragment"> FAT driver implementation
</pre> <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00145"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00145.html">cfs-fat.h</a></td></tr>
<tr class="memdesc:a00145"><td class="mdescLeft">&#160;</td><td class="mdescRight"><pre class="fragment">    FAT driver definitions
</pre> <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00150"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html">fat_mkfs.c</a></td></tr>
<tr class="memdesc:a00150"><td class="mdescLeft">&#160;</td><td class="mdescRight"><pre class="fragment"> FAT driver mkfs implementation
</pre> <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00049.html">FAT_Info</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds boot sector information.  <a href="a00049.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00043.html">dir_entry</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fat table entry for file.  <a href="a00043.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaf1eb4629a8b7c379fa767be68c90a6e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#gaf1eb4629a8b7c379fa767be68c90a6e0">CFS_CONF_OFFSET_TYPE</a>&#160;&#160;&#160;uint32_t</td></tr>
<tr class="memdesc:gaf1eb4629a8b7c379fa767be68c90a6e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Seek type is 32 bit for FAT files.  <a href="#gaf1eb4629a8b7c379fa767be68c90a6e0">More...</a><br/></td></tr>
<tr class="separator:gaf1eb4629a8b7c379fa767be68c90a6e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabfa656020fa6908696318b2799a3bb0f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#gabfa656020fa6908696318b2799a3bb0f">FAT_SYNC</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:gabfa656020fa6908696318b2799a3bb0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allows to enable synchronization of FATs when unmounting device.  <a href="#gabfa656020fa6908696318b2799a3bb0f">More...</a><br/></td></tr>
<tr class="separator:gabfa656020fa6908696318b2799a3bb0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab8943e34ce8df5b6d752c2f0689a14f5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#gab8943e34ce8df5b6d752c2f0689a14f5">cfs_fat_print_file_info</a> (int fd)</td></tr>
<tr class="separator:gab8943e34ce8df5b6d752c2f0689a14f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1cec2d21ba3a2ef01c5b964a5c478523"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga1cec2d21ba3a2ef01c5b964a5c478523">cfs_fat_print_dir_entry</a> (struct <a class="el" href="a00043.html">dir_entry</a> *<a class="el" href="a00043.html">dir_entry</a>)</td></tr>
<tr class="separator:ga1cec2d21ba3a2ef01c5b964a5c478523"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4422fbcef5fd06413a75467afcdb038"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#gae4422fbcef5fd06413a75467afcdb038">cfs_fat_get_fat_info</a> (struct <a class="el" href="a00049.html">FAT_Info</a> *info)</td></tr>
<tr class="memdesc:gae4422fbcef5fd06413a75467afcdb038"><td class="mdescLeft">&#160;</td><td class="mdescRight">Populates the given <a class="el" href="a00049.html" title="Holds boot sector information.">FAT_Info</a> with the mounted <a class="el" href="a00049.html" title="Holds boot sector information.">FAT_Info</a>.  <a href="#gae4422fbcef5fd06413a75467afcdb038">More...</a><br/></td></tr>
<tr class="separator:gae4422fbcef5fd06413a75467afcdb038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga73eaf38590449d6fca198f21ae32e883"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga73eaf38590449d6fca198f21ae32e883">cfs_fat_get_last_date</a> (int fd)</td></tr>
<tr class="memdesc:ga73eaf38590449d6fca198f21ae32e883"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the date of last modification.  <a href="#ga73eaf38590449d6fca198f21ae32e883">More...</a><br/></td></tr>
<tr class="separator:ga73eaf38590449d6fca198f21ae32e883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd3107f0645ff522dba476727d5bfa8f"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#gafd3107f0645ff522dba476727d5bfa8f">cfs_fat_get_last_time</a> (int fd)</td></tr>
<tr class="memdesc:gafd3107f0645ff522dba476727d5bfa8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the time of last modification.  <a href="#gafd3107f0645ff522dba476727d5bfa8f">More...</a><br/></td></tr>
<tr class="separator:gafd3107f0645ff522dba476727d5bfa8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac99d5ac2ceeda4e3a176de5a8c34962b"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#gac99d5ac2ceeda4e3a176de5a8c34962b">cfs_fat_get_create_date</a> (int fd)</td></tr>
<tr class="memdesc:gac99d5ac2ceeda4e3a176de5a8c34962b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the date of creation.  <a href="#gac99d5ac2ceeda4e3a176de5a8c34962b">More...</a><br/></td></tr>
<tr class="separator:gac99d5ac2ceeda4e3a176de5a8c34962b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f40d2db44aa503bf46911fbdb949154"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga2f40d2db44aa503bf46911fbdb949154">cfs_fat_get_create_time</a> (int fd)</td></tr>
<tr class="memdesc:ga2f40d2db44aa503bf46911fbdb949154"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the time of creation.  <a href="#ga2f40d2db44aa503bf46911fbdb949154">More...</a><br/></td></tr>
<tr class="separator:ga2f40d2db44aa503bf46911fbdb949154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6dbc87a03e2a5b49679fcf9ac8f551ac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga6dbc87a03e2a5b49679fcf9ac8f551ac"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga6dbc87a03e2a5b49679fcf9ac8f551ac">cfs_fat_flush</a> ()</td></tr>
<tr class="memdesc:ga6dbc87a03e2a5b49679fcf9ac8f551ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the current buffered block back to the disk if it was changed. <br/></td></tr>
<tr class="separator:ga6dbc87a03e2a5b49679fcf9ac8f551ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35111a12075307bd681cc9cce4056524"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga35111a12075307bd681cc9cce4056524">cfs_fat_mount_device</a> (struct <a class="el" href="a00044.html">diskio_device_info</a> *dev)</td></tr>
<tr class="memdesc:ga35111a12075307bd681cc9cce4056524"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to mount the defined device.  <a href="#ga35111a12075307bd681cc9cce4056524">More...</a><br/></td></tr>
<tr class="separator:ga35111a12075307bd681cc9cce4056524"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42c7970cf00f9ab4d2fda70c4eff39f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga42c7970cf00f9ab4d2fda70c4eff39f4">cfs_fat_umount_device</a> ()</td></tr>
<tr class="memdesc:ga42c7970cf00f9ab4d2fda70c4eff39f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Umounts the mounted device.  <a href="#ga42c7970cf00f9ab4d2fda70c4eff39f4">More...</a><br/></td></tr>
<tr class="separator:ga42c7970cf00f9ab4d2fda70c4eff39f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e7456c8916529282afe954912ac55ca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga5e7456c8916529282afe954912ac55ca">cfs_open</a> (const char *name, int flags)</td></tr>
<tr class="memdesc:ga5e7456c8916529282afe954912ac55ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a file.  <a href="#ga5e7456c8916529282afe954912ac55ca">More...</a><br/></td></tr>
<tr class="separator:ga5e7456c8916529282afe954912ac55ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab596ee8d033ccfd5e805095461cfbae1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#gab596ee8d033ccfd5e805095461cfbae1">cfs_close</a> (int fd)</td></tr>
<tr class="memdesc:gab596ee8d033ccfd5e805095461cfbae1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close an open file.  <a href="#gab596ee8d033ccfd5e805095461cfbae1">More...</a><br/></td></tr>
<tr class="separator:gab596ee8d033ccfd5e805095461cfbae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0752e1c146610962405b2636fc58383a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga0752e1c146610962405b2636fc58383a">cfs_read</a> (int fd, void *buf, unsigned int len)</td></tr>
<tr class="memdesc:ga0752e1c146610962405b2636fc58383a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from an open file.  <a href="#ga0752e1c146610962405b2636fc58383a">More...</a><br/></td></tr>
<tr class="separator:ga0752e1c146610962405b2636fc58383a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa9fb23ea14a5fc58a81c22de0cda235e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#gaa9fb23ea14a5fc58a81c22de0cda235e">cfs_write</a> (int fd, const void *buf, unsigned int len)</td></tr>
<tr class="memdesc:gaa9fb23ea14a5fc58a81c22de0cda235e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to an open file.  <a href="#gaa9fb23ea14a5fc58a81c22de0cda235e">More...</a><br/></td></tr>
<tr class="separator:gaa9fb23ea14a5fc58a81c22de0cda235e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85262279ec27e0ef82af1c0e47d20c74"><td class="memItemLeft" align="right" valign="top">cfs_offset_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga85262279ec27e0ef82af1c0e47d20c74">cfs_seek</a> (int fd, cfs_offset_t offset, int whence)</td></tr>
<tr class="memdesc:ga85262279ec27e0ef82af1c0e47d20c74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Seek to a specified position in an open file.  <a href="#ga85262279ec27e0ef82af1c0e47d20c74">More...</a><br/></td></tr>
<tr class="separator:ga85262279ec27e0ef82af1c0e47d20c74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4278d54eb100feffc2a31997fafe9a26"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga4278d54eb100feffc2a31997fafe9a26">cfs_remove</a> (const char *name)</td></tr>
<tr class="memdesc:ga4278d54eb100feffc2a31997fafe9a26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a file.  <a href="#ga4278d54eb100feffc2a31997fafe9a26">More...</a><br/></td></tr>
<tr class="separator:ga4278d54eb100feffc2a31997fafe9a26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadc9037b7a6ecfbf018eb146b2d5e1080"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#gadc9037b7a6ecfbf018eb146b2d5e1080">cfs_opendir</a> (struct cfs_dir *dirp, const char *name)</td></tr>
<tr class="memdesc:gadc9037b7a6ecfbf018eb146b2d5e1080"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a directory for reading directory entries.  <a href="#gadc9037b7a6ecfbf018eb146b2d5e1080">More...</a><br/></td></tr>
<tr class="separator:gadc9037b7a6ecfbf018eb146b2d5e1080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46dc0b8e4ada247cab7de34266755c5a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga46dc0b8e4ada247cab7de34266755c5a">cfs_readdir</a> (struct cfs_dir *dirp, struct cfs_dirent *dirent)</td></tr>
<tr class="memdesc:ga46dc0b8e4ada247cab7de34266755c5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a directory entry.  <a href="#ga46dc0b8e4ada247cab7de34266755c5a">More...</a><br/></td></tr>
<tr class="separator:ga46dc0b8e4ada247cab7de34266755c5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaadfefb6190f923a7bd0c2dd9d3acd251"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#gaadfefb6190f923a7bd0c2dd9d3acd251">cfs_closedir</a> (struct cfs_dir *dirp)</td></tr>
<tr class="memdesc:gaadfefb6190f923a7bd0c2dd9d3acd251"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a directory opened with <a class="el" href="a01760.html#gab4df33476a46ca00caf8de9cbb3e8f05" title="Open a directory for reading directory entries.">cfs_opendir()</a>.  <a href="#gaadfefb6190f923a7bd0c2dd9d3acd251">More...</a><br/></td></tr>
<tr class="separator:gaadfefb6190f923a7bd0c2dd9d3acd251"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83673af3cfb5bd597f54e119997e8994"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga83673af3cfb5bd597f54e119997e8994">cfs_fat_file_size</a> (int fd)</td></tr>
<tr class="memdesc:ga83673af3cfb5bd597f54e119997e8994"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the file size of the associated file.  <a href="#ga83673af3cfb5bd597f54e119997e8994">More...</a><br/></td></tr>
<tr class="separator:ga83673af3cfb5bd597f54e119997e8994"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5af282a5ab3654edc4836696cd5d3e3c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga5af282a5ab3654edc4836696cd5d3e3c">cfs_fat_sync_fats</a> ()</td></tr>
<tr class="memdesc:ga5af282a5ab3654edc4836696cd5d3e3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Syncs every FAT with the first.  <a href="#ga5af282a5ab3654edc4836696cd5d3e3c">More...</a><br/></td></tr>
<tr class="separator:ga5af282a5ab3654edc4836696cd5d3e3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaffbe03082a11350c8e225d815225a414"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#gaffbe03082a11350c8e225d815225a414">is_a_power_of_2</a> (uint32_t value)</td></tr>
<tr class="memdesc:gaffbe03082a11350c8e225d815225a414"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests if the given value is a power of 2.  <a href="#gaffbe03082a11350c8e225d815225a414">More...</a><br/></td></tr>
<tr class="separator:gaffbe03082a11350c8e225d815225a414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60be892dcd7fff0120d79148315d648b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga60be892dcd7fff0120d79148315d648b">round_down_to_power_of_2</a> (uint32_t value)</td></tr>
<tr class="memdesc:ga60be892dcd7fff0120d79148315d648b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rounds the value down to the next lower power of 2.  <a href="#ga60be892dcd7fff0120d79148315d648b">More...</a><br/></td></tr>
<tr class="separator:ga60be892dcd7fff0120d79148315d648b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa769f9f3231977fc270cdbd95162e583"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#gaa769f9f3231977fc270cdbd95162e583">cfs_fat_mkfs</a> (struct <a class="el" href="a00044.html">diskio_device_info</a> *dev)</td></tr>
<tr class="memdesc:gaa769f9f3231977fc270cdbd95162e583"><td class="mdescLeft">&#160;</td><td class="mdescRight">Formats the specified device as FAT16/32.  <a href="#gaa769f9f3231977fc270cdbd95162e583">More...</a><br/></td></tr>
<tr class="separator:gaa769f9f3231977fc270cdbd95162e583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7add5a0612ce28e8d28ba0d44f8b3c72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga7add5a0612ce28e8d28ba0d44f8b3c72">cfs_fat_print_cluster_chain</a> (int fd)</td></tr>
<tr class="separator:ga7add5a0612ce28e8d28ba0d44f8b3c72"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga61bd42bbe22f0489490eaaf3e58dd743"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga61bd42bbe22f0489490eaaf3e58dd743"></a>
struct file_system&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga61bd42bbe22f0489490eaaf3e58dd743">mounted</a></td></tr>
<tr class="memdesc:ga61bd42bbe22f0489490eaaf3e58dd743"><td class="mdescLeft">&#160;</td><td class="mdescRight">From fat.c. <br/></td></tr>
<tr class="separator:ga61bd42bbe22f0489490eaaf3e58dd743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2017d3b1447801a879c5195b89771d96"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2017d3b1447801a879c5195b89771d96"></a>
struct file&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga2017d3b1447801a879c5195b89771d96">fat_file_pool</a> [FAT_FD_POOL_SIZE]</td></tr>
<tr class="memdesc:ga2017d3b1447801a879c5195b89771d96"><td class="mdescLeft">&#160;</td><td class="mdescRight">From fat.c. <br/></td></tr>
<tr class="separator:ga2017d3b1447801a879c5195b89771d96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga710bb05e11dbc04cc57b390eda9f65da"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga710bb05e11dbc04cc57b390eda9f65da"></a>
struct file_desc&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01761.html#ga710bb05e11dbc04cc57b390eda9f65da">fat_fd_pool</a> [FAT_FD_POOL_SIZE]</td></tr>
<tr class="memdesc:ga710bb05e11dbc04cc57b390eda9f65da"><td class="mdescLeft">&#160;</td><td class="mdescRight">From fat.c. <br/></td></tr>
<tr class="separator:ga710bb05e11dbc04cc57b390eda9f65da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Additional function for the FAT file system. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gaf1eb4629a8b7c379fa767be68c90a6e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CFS_CONF_OFFSET_TYPE&#160;&#160;&#160;uint32_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Seek type is 32 bit for FAT files. </p>

<p>Definition at line <a class="el" href="a00145_source.html#l00061">61</a> of file <a class="el" href="a00145_source.html">cfs-fat.h</a>.</p>

</div>
</div>
<a class="anchor" id="gabfa656020fa6908696318b2799a3bb0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FAT_SYNC&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allows to enable synchronization of FATs when unmounting device. </p>
<p>This may allow to restore a corrupted primary FAT but note that this will lead to poor performance and decreases flash life because of a remarkable number of additional write cycles. </p>

<p>Definition at line <a class="el" href="a00145_source.html#l00080">80</a> of file <a class="el" href="a00145_source.html">cfs-fat.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gab596ee8d033ccfd5e805095461cfbae1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_close </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close an open file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file descriptor of the open file. <pre class="fragment">        This function closes a file that has previously been
        opened with cfs_open().</pre> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00144_source.html#l00934">934</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

<p>References <a class="el" href="a00144_source.html#l00614">cfs_fat_flush()</a>, <a class="el" href="a00144_source.html#l00105">fat_fd_pool</a>, and <a class="el" href="a01200_source.html#l00186">NULL</a>.</p>

</div>
</div>
<a class="anchor" id="gaadfefb6190f923a7bd0c2dd9d3acd251"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_closedir </td>
          <td>(</td>
          <td class="paramtype">struct cfs_dir *&#160;</td>
          <td class="paramname"><em>dirp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close a directory opened with <a class="el" href="a01760.html#gab4df33476a46ca00caf8de9cbb3e8f05" title="Open a directory for reading directory entries.">cfs_opendir()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dirp</td><td>A pointer to a struct cfs_dir that has been opened with <a class="el" href="a01760.html#gab4df33476a46ca00caf8de9cbb3e8f05" title="Open a directory for reading directory entries.">cfs_opendir()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="a01760.html#gab4df33476a46ca00caf8de9cbb3e8f05" title="Open a directory for reading directory entries.">cfs_opendir()</a> </dd>
<dd>
<a class="el" href="a01760.html#ga6367d2b762784fabea2ad1f533aa4bf4" title="Read a directory entry.">cfs_readdir()</a> </dd></dl>

<p>Definition at line <a class="el" href="a00144_source.html#l01136">1136</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga83673af3cfb5bd597f54e119997e8994"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t cfs_fat_file_size </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the file size of the associated file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="a00144_source.html#l01384">1384</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

<p>References <a class="el" href="a00144_source.html#l00105">fat_fd_pool</a>, <a class="el" href="a00144_source.html#l00104">fat_file_pool</a>, and <a class="el" href="a01200_source.html#l00186">NULL</a>.</p>

</div>
</div>
<a class="anchor" id="gac99d5ac2ceeda4e3a176de5a8c34962b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t cfs_fat_get_create_date </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the date of creation. </p>
<p>Format: [15-9: year sine 1980, 8-5: month, 4-0: day] </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>File descriptor </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00144_source.html#l00424">424</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

<p>References <a class="el" href="a00144_source.html#l00104">fat_file_pool</a>.</p>

</div>
</div>
<a class="anchor" id="ga2f40d2db44aa503bf46911fbdb949154"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t cfs_fat_get_create_time </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the time of creation. </p>
<p>Format: [15-11: hours, 10-5: minutes, 4-0: seconds/2] </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>File descriptor </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00144_source.html#l00430">430</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

<p>References <a class="el" href="a00144_source.html#l00104">fat_file_pool</a>.</p>

</div>
</div>
<a class="anchor" id="gae4422fbcef5fd06413a75467afcdb038"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_fat_get_fat_info </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00049.html">FAT_Info</a> *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Populates the given <a class="el" href="a00049.html" title="Holds boot sector information.">FAT_Info</a> with the mounted <a class="el" href="a00049.html" title="Holds boot sector information.">FAT_Info</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*info</td><td>The <a class="el" href="a00049.html" title="Holds boot sector information.">FAT_Info</a> struct which should be populated. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00144_source.html#l00406">406</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

<p>References <a class="el" href="a01761.html#ga61bd42bbe22f0489490eaaf3e58dd743">mounted</a>.</p>

</div>
</div>
<a class="anchor" id="ga73eaf38590449d6fca198f21ae32e883"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t cfs_fat_get_last_date </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the date of last modification. </p>
<p>Format: [15-9: year sine 1980, 8-5: month, 4-0: day] </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>File descriptor </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00144_source.html#l00412">412</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

<p>References <a class="el" href="a00144_source.html#l00104">fat_file_pool</a>.</p>

</div>
</div>
<a class="anchor" id="gafd3107f0645ff522dba476727d5bfa8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t cfs_fat_get_last_time </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the time of last modification. </p>
<p>Format: [15-11: hours, 10-5: minutes, 4-0: seconds/2] </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>File descriptor </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00144_source.html#l00418">418</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

<p>References <a class="el" href="a00144_source.html#l00104">fat_file_pool</a>.</p>

</div>
</div>
<a class="anchor" id="gaa769f9f3231977fc270cdbd95162e583"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_fat_mkfs </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00044.html">diskio_device_info</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Formats the specified device as FAT16/32. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>device to format </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Definition at line <a class="el" href="a00150_source.html#l00074">74</a> of file <a class="el" href="a00150_source.html">fat_mkfs.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga35111a12075307bd681cc9cce4056524"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t cfs_fat_mount_device </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00044.html">diskio_device_info</a> *&#160;</td>
          <td class="paramname"><em>dev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tries to mount the defined device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>The device on which a FAT-FS should be mounted. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, 1 if the bootsector was not found or corrupted, 2 if the FAT-Type wasn't supported. </dd></dl>

<p>Definition at line <a class="el" href="a00144_source.html#l00808">808</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

<p>References <a class="el" href="a00144_source.html#l00843">cfs_fat_umount_device()</a>, <a class="el" href="a00146_source.html#l00103">diskio_read_block()</a>, and <a class="el" href="a01761.html#ga61bd42bbe22f0489490eaaf3e58dd743">mounted</a>.</p>

</div>
</div>
<a class="anchor" id="ga7add5a0612ce28e8d28ba0d44f8b3c72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_fat_print_cluster_chain </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga1cec2d21ba3a2ef01c5b964a5c478523"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_fat_print_dir_entry </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="a00043.html">dir_entry</a> *&#160;</td>
          <td class="paramname"><em>dir_entry</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="a00043.html" title="Fat table entry for file.">dir_entry</a></td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00144_source.html#l00388">388</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

<p>References <a class="el" href="a00145_source.html#l00119">dir_entry::DIR_CrtDate</a>, <a class="el" href="a00145_source.html#l00117">dir_entry::DIR_CrtTime</a>, <a class="el" href="a00145_source.html#l00129">dir_entry::DIR_FileSize</a>, <a class="el" href="a00145_source.html#l00121">dir_entry::DIR_LstAccessDate</a>, <a class="el" href="a00145_source.html#l00126">dir_entry::DIR_WrtDate</a>, and <a class="el" href="a00145_source.html#l00124">dir_entry::DIR_WrtTime</a>.</p>

</div>
</div>
<a class="anchor" id="gab8943e34ce8df5b6d752c2f0689a14f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_fat_print_file_info </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00144_source.html#l00361">361</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

<p>References <a class="el" href="a00145_source.html#l00119">dir_entry::DIR_CrtDate</a>, <a class="el" href="a00145_source.html#l00117">dir_entry::DIR_CrtTime</a>, <a class="el" href="a00145_source.html#l00129">dir_entry::DIR_FileSize</a>, <a class="el" href="a00145_source.html#l00121">dir_entry::DIR_LstAccessDate</a>, <a class="el" href="a00145_source.html#l00126">dir_entry::DIR_WrtDate</a>, <a class="el" href="a00145_source.html#l00124">dir_entry::DIR_WrtTime</a>, <a class="el" href="a00144_source.html#l00105">fat_fd_pool</a>, and <a class="el" href="a00144_source.html#l00104">fat_file_pool</a>.</p>

</div>
</div>
<a class="anchor" id="ga5af282a5ab3654edc4836696cd5d3e3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_fat_sync_fats </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Syncs every FAT with the first. </p>
<p>Syncs every FAT with the first FAT.</p>
<p>Can take much time. </p>

<p>Definition at line <a class="el" href="a00144_source.html#l01401">1401</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

<p>References <a class="el" href="a00144_source.html#l00614">cfs_fat_flush()</a>, <a class="el" href="a00146_source.html#l00103">diskio_read_block()</a>, <a class="el" href="a00146_source.html#l00115">diskio_write_block()</a>, and <a class="el" href="a01761.html#ga61bd42bbe22f0489490eaaf3e58dd743">mounted</a>.</p>

<p>Referenced by <a class="el" href="a00144_source.html#l00843">cfs_fat_umount_device()</a>.</p>

</div>
</div>
<a class="anchor" id="ga42c7970cf00f9ab4d2fda70c4eff39f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cfs_fat_umount_device </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Umounts the mounted device. </p>
<p>Invalidates all file descriptors. (Syncs all FATs (only if FAT_SYNC is set)) and flushes cached data. </p>

<p>Definition at line <a class="el" href="a00144_source.html#l00843">843</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

<p>References <a class="el" href="a00144_source.html#l00614">cfs_fat_flush()</a>, <a class="el" href="a00144_source.html#l01401">cfs_fat_sync_fats()</a>, <a class="el" href="a00144_source.html#l00105">fat_fd_pool</a>, and <a class="el" href="a01761.html#ga61bd42bbe22f0489490eaaf3e58dd743">mounted</a>.</p>

<p>Referenced by <a class="el" href="a00144_source.html#l00808">cfs_fat_mount_device()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5e7456c8916529282afe954912ac55ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the file. </td></tr>
    <tr><td class="paramname">flags</td><td>CFS_READ, or CFS_WRITE/CFS_APPEND, or both. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A file descriptor, if the file could be opened, or -1 if the file could not be opened.</dd></dl>
<p>This function opens a file and returns a file descriptor for the opened file. If the file could not be opened, the function returns -1. The function can open a file for reading or writing, or both.</p>
<p>An opened file must be closed with <a class="el" href="a01760.html#gadc3991eb5ac0e1cb6fd5e162049785b4" title="Close an open file.">cfs_close()</a>.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="a01760.html#ga00fed0156dbcbd1214203c7f2507e376" title="Specify that cfs_open() should open a file for reading.">CFS_READ</a> </dd>
<dd>
<a class="el" href="a01760.html#ga798793edf50f38e3e41364f0f6f71201" title="Specify that cfs_open() should open a file for writing.">CFS_WRITE</a> </dd>
<dd>
<a class="el" href="a01760.html#gadc3991eb5ac0e1cb6fd5e162049785b4" title="Close an open file.">cfs_close()</a> </dd></dl>

<p>Definition at line <a class="el" href="a00144_source.html#l00867">867</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

<p>References <a class="el" href="a00143_source.html#l00126">CFS_APPEND</a>, <a class="el" href="a00136_source.html#l01078">cfs_remove()</a>, <a class="el" href="a00136_source.html#l01046">cfs_seek()</a>, <a class="el" href="a00143_source.html#l00153">CFS_SEEK_END</a>, <a class="el" href="a00143_source.html#l00112">CFS_WRITE</a>, <a class="el" href="a00144_source.html#l00105">fat_fd_pool</a>, and <a class="el" href="a00144_source.html#l00104">fat_file_pool</a>.</p>

</div>
</div>
<a class="anchor" id="gadc9037b7a6ecfbf018eb146b2d5e1080"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_opendir </td>
          <td>(</td>
          <td class="paramtype">struct cfs_dir *&#160;</td>
          <td class="paramname"><em>dirp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a directory for reading directory entries. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dirp</td><td>A pointer to a struct cfs_dir that is filled in by the function. </td></tr>
    <tr><td class="paramname">name</td><td>The name of the directory. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 or -1 if the directory could not be opened.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="a01760.html#ga6367d2b762784fabea2ad1f533aa4bf4" title="Read a directory entry.">cfs_readdir()</a> </dd>
<dd>
<a class="el" href="a01760.html#gaef17820cc7daaeac661e401ca7b3054b" title="Close a directory opened with cfs_opendir().">cfs_closedir()</a> </dd></dl>

<p>Definition at line <a class="el" href="a00144_source.html#l01089">1089</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga0752e1c146610962405b2636fc58383a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_read </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data from an open file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file descriptor of the open file. </td></tr>
    <tr><td class="paramname">buf</td><td>The buffer in which data should be read from the file. </td></tr>
    <tr><td class="paramname">len</td><td>The number of bytes that should be read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes that was actually read from the file. <pre class="fragment">        This function reads data from an open file into a
        buffer. The file must have first been opened with
        cfs_open() and the CFS_READ flag.</pre> </dd></dl>

<p>Definition at line <a class="el" href="a00144_source.html#l00952">952</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

<p>References <a class="el" href="a00143_source.html#l00098">CFS_READ</a>, and <a class="el" href="a00144_source.html#l00105">fat_fd_pool</a>.</p>

</div>
</div>
<a class="anchor" id="ga46dc0b8e4ada247cab7de34266755c5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_readdir </td>
          <td>(</td>
          <td class="paramtype">struct cfs_dir *&#160;</td>
          <td class="paramname"><em>dirp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct cfs_dirent *&#160;</td>
          <td class="paramname"><em>dirent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a directory entry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dirp</td><td>A pointer to a struct cfs_dir that has been opened with <a class="el" href="a01760.html#gab4df33476a46ca00caf8de9cbb3e8f05" title="Open a directory for reading directory entries.">cfs_opendir()</a>. </td></tr>
    <tr><td class="paramname">dirent</td><td>A pointer to a struct cfs_dirent that is filled in by <a class="el" href="a01760.html#ga6367d2b762784fabea2ad1f533aa4bf4" title="Read a directory entry.">cfs_readdir()</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>If a directory entry was read. </td></tr>
    <tr><td class="paramname">-1</td><td>If no more directory entries can be read.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="a01760.html#gab4df33476a46ca00caf8de9cbb3e8f05" title="Open a directory for reading directory entries.">cfs_opendir()</a> </dd>
<dd>
<a class="el" href="a01760.html#gaef17820cc7daaeac661e401ca7b3054b" title="Close a directory opened with cfs_opendir().">cfs_closedir()</a> </dd></dl>

<p>Definition at line <a class="el" href="a00144_source.html#l01107">1107</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

<p>References <a class="el" href="a00145_source.html#l00129">dir_entry::DIR_FileSize</a>, and <a class="el" href="a01761.html#ga61bd42bbe22f0489490eaaf3e58dd743">mounted</a>.</p>

</div>
</div>
<a class="anchor" id="ga4278d54eb100feffc2a31997fafe9a26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_remove </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove a file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>If the file was removed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 If the file could not be removed or if it doesn't exist. </dd></dl>

<p>Definition at line <a class="el" href="a00144_source.html#l01068">1068</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

<p>References <a class="el" href="a00144_source.html#l00614">cfs_fat_flush()</a>.</p>

</div>
</div>
<a class="anchor" id="ga85262279ec27e0ef82af1c0e47d20c74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cfs_offset_t cfs_seek </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cfs_offset_t&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>whence</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Seek to a specified position in an open file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file descriptor of the open file. </td></tr>
    <tr><td class="paramname">offset</td><td>A position, either relative or absolute, in the file. </td></tr>
    <tr><td class="paramname">whence</td><td>Determines how to interpret the offset parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The new position in the file, or (cfs_offset_t)-1 if the seek failed. <pre class="fragment">        This function moves the file position to the specified
        position in the file. The next byte that is read from
        or written to the file will be at the position given 
        determined by the combination of the offset parameter 
        and the whence parameter.
</pre></dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="a01760.html#ga79a4ba5a9b5924df5db6e998e84a7d53" title="Specify that cfs_seek() should compute the offset from the current position of the file pointer...">CFS_SEEK_CUR</a> </dd>
<dd>
<a class="el" href="a01760.html#ga96fb6bf3f2e9f69d526f9119551bedce" title="Specify that cfs_seek() should compute the offset from the end of the file.">CFS_SEEK_END</a> </dd>
<dd>
<a class="el" href="a01760.html#ga72cd7360175436b7ed26606708314dc0" title="Specify that cfs_seek() should compute the offset from the beginning of the file.">CFS_SEEK_SET</a> </dd></dl>

<p>Definition at line <a class="el" href="a00144_source.html#l01036">1036</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

<p>References <a class="el" href="a00143_source.html#l00144">CFS_SEEK_CUR</a>, <a class="el" href="a00143_source.html#l00153">CFS_SEEK_END</a>, <a class="el" href="a00143_source.html#l00135">CFS_SEEK_SET</a>, <a class="el" href="a00145_source.html#l00129">dir_entry::DIR_FileSize</a>, <a class="el" href="a00144_source.html#l00105">fat_fd_pool</a>, and <a class="el" href="a00144_source.html#l00104">fat_file_pool</a>.</p>

</div>
</div>
<a class="anchor" id="gaa9fb23ea14a5fc58a81c22de0cda235e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cfs_write </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data to an open file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>The file descriptor of the open file. </td></tr>
    <tr><td class="paramname">buf</td><td>The buffer from which data should be written to the file. </td></tr>
    <tr><td class="paramname">len</td><td>The number of bytes that should be written. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes that was actually written to the file. <pre class="fragment">        This function reads writes data from a memory buffer to
        an open file. The file must have been opened with
        cfs_open() and the CFS_WRITE flag.</pre> </dd></dl>

<p>Definition at line <a class="el" href="a00144_source.html#l00964">964</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaffbe03082a11350c8e225d815225a414"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t is_a_power_of_2 </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tests if the given value is a power of 2. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>Number which should be testet if it is a power of 2. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on failure and 0 if value is a power of 2. </dd></dl>

<p>Definition at line <a class="el" href="a00144_source.html#l01442">1442</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga60be892dcd7fff0120d79148315d648b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t round_down_to_power_of_2 </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rounds the value down to the next lower power of 2. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>The number which should be rounded down. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the next lower number which is a power of 2 </dd></dl>

<p>Definition at line <a class="el" href="a00144_source.html#l01468">1468</a> of file <a class="el" href="a00144_source.html">cfs-fat.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 24 2014 16:26:18 for Contiki-Inga 3.x by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
