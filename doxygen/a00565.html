<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Contiki-Inga 3.x: platform/inga/dev/sdcard.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Contiki-Inga 3.x
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c5a52a81292cf9a5167198f4f346d6d9.html">platform</a></li><li class="navelem"><a class="el" href="dir_13185d73ae3f3cd32cfeb81a5efec762.html">inga</a></li><li class="navelem"><a class="el" href="dir_e67022c0ff272dab8cd92149abe9c9c1.html">dev</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sdcard.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><pre class="fragment">    SD Card interface definitions
</pre>  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="a01492_source.html">mspi.h</a>&quot;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
</div>
<p><a href="a00565_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga0dbeed2c5f53b1e2a82be0e5be5b09eb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#ga0dbeed2c5f53b1e2a82be0e5be5b09eb">MICRO_SD_CS</a>&#160;&#160;&#160;5</td></tr>
<tr class="separator:ga0dbeed2c5f53b1e2a82be0e5be5b09eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Interface return codes</div></td></tr>
<tr class="memitem:ga7d45856a5b2e876ca9ef2fdf540411bd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7d45856a5b2e876ca9ef2fdf540411bd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#ga7d45856a5b2e876ca9ef2fdf540411bd">SDCARD_SUCCESS</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga7d45856a5b2e876ca9ef2fdf540411bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Successfully completed operation. <br/></td></tr>
<tr class="separator:ga7d45856a5b2e876ca9ef2fdf540411bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35d62478de2785d4a3986fc44403395f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga35d62478de2785d4a3986fc44403395f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#ga35d62478de2785d4a3986fc44403395f">SDCARD_REJECTED</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:ga35d62478de2785d4a3986fc44403395f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates the host cannot handle this card, maybe due to rejected voltage range. <br/></td></tr>
<tr class="separator:ga35d62478de2785d4a3986fc44403395f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d755972aa61b9238ec6cf33a4623261"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8d755972aa61b9238ec6cf33a4623261"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#ga8d755972aa61b9238ec6cf33a4623261">SDCARD_CMD_TIMEOUT</a>&#160;&#160;&#160;4</td></tr>
<tr class="memdesc:ga8d755972aa61b9238ec6cf33a4623261"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timeout while trying to send command. <br/></td></tr>
<tr class="separator:ga8d755972aa61b9238ec6cf33a4623261"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ee598c8eebc3e6696017f98f122b67e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7ee598c8eebc3e6696017f98f122b67e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#ga7ee598c8eebc3e6696017f98f122b67e">SDCARD_CMD_ERROR</a>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:ga7ee598c8eebc3e6696017f98f122b67e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Card sent an error response. <br/></td></tr>
<tr class="separator:ga7ee598c8eebc3e6696017f98f122b67e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabeed47df464253d692a5b087a921d945"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gabeed47df464253d692a5b087a921d945"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#gabeed47df464253d692a5b087a921d945">SDCARD_DATA_TIMEOUT</a>&#160;&#160;&#160;6</td></tr>
<tr class="memdesc:gabeed47df464253d692a5b087a921d945"><td class="mdescLeft">&#160;</td><td class="mdescRight">Card did not send a data start byte to indicate beginning of a data block. <br/></td></tr>
<tr class="separator:gabeed47df464253d692a5b087a921d945"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1de3dfbe3f1af35f0f047570873f8f08"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#ga1de3dfbe3f1af35f0f047570873f8f08">SDCARD_DATA_ERROR</a>&#160;&#160;&#160;7</td></tr>
<tr class="memdesc:ga1de3dfbe3f1af35f0f047570873f8f08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Card returned error when trying to read or write data.  <a href="a01863.html#ga1de3dfbe3f1af35f0f047570873f8f08">More...</a><br/></td></tr>
<tr class="separator:ga1de3dfbe3f1af35f0f047570873f8f08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7148cdcccb1abce67e03839a76a23b53"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7148cdcccb1abce67e03839a76a23b53"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#ga7148cdcccb1abce67e03839a76a23b53">SDCARD_BUSY_TIMEOUT</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:ga7148cdcccb1abce67e03839a76a23b53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Busy waiting timed out (card held down data line too long) <br/></td></tr>
<tr class="separator:ga7148cdcccb1abce67e03839a76a23b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabddd2102fef1a873098ce8b901e679fc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gabddd2102fef1a873098ce8b901e679fc"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#gabddd2102fef1a873098ce8b901e679fc">SDCARD_CSD_ERROR</a>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:gabddd2102fef1a873098ce8b901e679fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Failed reading CSD register. <br/></td></tr>
<tr class="separator:gabddd2102fef1a873098ce8b901e679fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacf47901f5b4b624afafb02d59e04ce9c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#gacf47901f5b4b624afafb02d59e04ce9c">sdcard_init</a> (void)</td></tr>
<tr class="memdesc:gacf47901f5b4b624afafb02d59e04ce9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the SD Card.  <a href="a01863.html#gacf47901f5b4b624afafb02d59e04ce9c">More...</a><br/></td></tr>
<tr class="separator:gacf47901f5b4b624afafb02d59e04ce9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5e6bd293638f2c44d9bddccdf240c08"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#gaf5e6bd293638f2c44d9bddccdf240c08">sdcard_read_csd</a> (uint8_t *buffer)</td></tr>
<tr class="memdesc:gaf5e6bd293638f2c44d9bddccdf240c08"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will read the CSD (16 Bytes) of the SD-Card.  <a href="a01863.html#gaf5e6bd293638f2c44d9bddccdf240c08">More...</a><br/></td></tr>
<tr class="separator:gaf5e6bd293638f2c44d9bddccdf240c08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60952639ea126a5b2e5b9868a07147df"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#ga60952639ea126a5b2e5b9868a07147df">sdcard_get_block_size</a> ()</td></tr>
<tr class="memdesc:ga60952639ea126a5b2e5b9868a07147df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the size of one block in bytes.  <a href="a01863.html#ga60952639ea126a5b2e5b9868a07147df">More...</a><br/></td></tr>
<tr class="separator:ga60952639ea126a5b2e5b9868a07147df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacf8efbbd986a55691dfed26b4a4cf70a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#gacf8efbbd986a55691dfed26b4a4cf70a">sdcard_is_SDSC</a> ()</td></tr>
<tr class="memdesc:gacf8efbbd986a55691dfed26b4a4cf70a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function indicates if a card is a SDSC or SDHC/SDXC card.  <a href="a01863.html#gacf8efbbd986a55691dfed26b4a4cf70a">More...</a><br/></td></tr>
<tr class="separator:gacf8efbbd986a55691dfed26b4a4cf70a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa28193bba64d05c69b3ee58d2501101a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#gaa28193bba64d05c69b3ee58d2501101a">sdcard_set_CRC</a> (uint8_t enable)</td></tr>
<tr class="memdesc:gaa28193bba64d05c69b3ee58d2501101a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turns crc capabilities of the card on or off.  <a href="a01863.html#gaa28193bba64d05c69b3ee58d2501101a">More...</a><br/></td></tr>
<tr class="separator:gaa28193bba64d05c69b3ee58d2501101a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6d8adcd07f74d40c3c4c712befd1f85b"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#ga6d8adcd07f74d40c3c4c712befd1f85b">sdcard_get_card_size</a> ()</td></tr>
<tr class="memdesc:ga6d8adcd07f74d40c3c4c712befd1f85b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns card size.  <a href="a01863.html#ga6d8adcd07f74d40c3c4c712befd1f85b">More...</a><br/></td></tr>
<tr class="separator:ga6d8adcd07f74d40c3c4c712befd1f85b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5985b6f2f0b82cf5fc15565b1b31a2d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#gaf5985b6f2f0b82cf5fc15565b1b31a2d">sdcard_get_block_num</a> ()</td></tr>
<tr class="separator:gaf5985b6f2f0b82cf5fc15565b1b31a2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f2c293b04b8be31e9dd16905e2e3fe7"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#ga7f2c293b04b8be31e9dd16905e2e3fe7">sdcard_erase_blocks</a> (uint32_t startaddr, uint32_t endaddr)</td></tr>
<tr class="separator:ga7f2c293b04b8be31e9dd16905e2e3fe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9bf40a8b2342c85390d5efb4eb0cf63f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#ga9bf40a8b2342c85390d5efb4eb0cf63f">sdcard_read_block</a> (uint32_t addr, uint8_t *buffer)</td></tr>
<tr class="memdesc:ga9bf40a8b2342c85390d5efb4eb0cf63f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will read one block (512, 1024, 2048 or 4096Byte) of the SD-Card.  <a href="a01863.html#ga9bf40a8b2342c85390d5efb4eb0cf63f">More...</a><br/></td></tr>
<tr class="separator:ga9bf40a8b2342c85390d5efb4eb0cf63f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab018ecec7da52ff9373d35a7091dd42"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#gaab018ecec7da52ff9373d35a7091dd42">sdcard_write_block</a> (uint32_t addr, uint8_t *buffer)</td></tr>
<tr class="memdesc:gaab018ecec7da52ff9373d35a7091dd42"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will write one block (512, 1024, 2048 or 4096Byte) of the SD-Card.  <a href="a01863.html#gaab018ecec7da52ff9373d35a7091dd42">More...</a><br/></td></tr>
<tr class="separator:gaab018ecec7da52ff9373d35a7091dd42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e0f2a21d319efdcbe772b5f8abc8f04"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#ga8e0f2a21d319efdcbe772b5f8abc8f04">sdcard_write_multi_block_start</a> (uint32_t addr, uint32_t num_blocks)</td></tr>
<tr class="memdesc:ga8e0f2a21d319efdcbe772b5f8abc8f04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares to write multiple blocks sequentially.  <a href="a01863.html#ga8e0f2a21d319efdcbe772b5f8abc8f04">More...</a><br/></td></tr>
<tr class="separator:ga8e0f2a21d319efdcbe772b5f8abc8f04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30f82b5509c4c990a75d65fa9bcb4020"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#ga30f82b5509c4c990a75d65fa9bcb4020">sdcard_write_multi_block_next</a> (uint8_t *buffer)</td></tr>
<tr class="memdesc:ga30f82b5509c4c990a75d65fa9bcb4020"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes single of multiple sequental blocks.  <a href="a01863.html#ga30f82b5509c4c990a75d65fa9bcb4020">More...</a><br/></td></tr>
<tr class="separator:ga30f82b5509c4c990a75d65fa9bcb4020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e99df8d7809d6ee7cd9d330375a2efa"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#ga9e99df8d7809d6ee7cd9d330375a2efa">sdcard_write_multi_block_stop</a> ()</td></tr>
<tr class="memdesc:ga9e99df8d7809d6ee7cd9d330375a2efa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops multiple block write.  <a href="a01863.html#ga9e99df8d7809d6ee7cd9d330375a2efa">More...</a><br/></td></tr>
<tr class="separator:ga9e99df8d7809d6ee7cd9d330375a2efa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga241f63fa7a56cec25729ad317ec5ce95"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#ga241f63fa7a56cec25729ad317ec5ce95">sdcard_write_cmd</a> (uint8_t cmd, uint32_t *arg, uint8_t *resp)</td></tr>
<tr class="memdesc:ga241f63fa7a56cec25729ad317ec5ce95"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sends a command via SPI to the SD-Card.  <a href="a01863.html#ga241f63fa7a56cec25729ad317ec5ce95">More...</a><br/></td></tr>
<tr class="separator:ga241f63fa7a56cec25729ad317ec5ce95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6319f1df2a27715700142b382b61d17d"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01863.html#ga6319f1df2a27715700142b382b61d17d">sdcard_data_crc</a> (uint8_t *data)</td></tr>
<tr class="memdesc:ga6319f1df2a27715700142b382b61d17d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function calculates the CRC16 for a 512 Byte data block.  <a href="a01863.html#ga6319f1df2a27715700142b382b61d17d">More...</a><br/></td></tr>
<tr class="separator:ga6319f1df2a27715700142b382b61d17d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">    SD Card interface definitions
</pre> <dl class="section author"><dt>Author</dt><dd>Ulf Kulau <a href="#" onclick="location.href='mai'+'lto:'+'kul'+'au'+'@ib'+'r.'+'cs.'+'tu'+'-bs'+'.d'+'e'; return false;">kulau<span style="display: none;">.nosp@m.</span>@ibr<span style="display: none;">.nosp@m.</span>.cs.t<span style="display: none;">.nosp@m.</span>u-bs<span style="display: none;">.nosp@m.</span>.de</a> Christoph Peltz <a href="#" onclick="location.href='mai'+'lto:'+'pel'+'tz'+'@ib'+'r.'+'cs.'+'tu'+'-bs'+'.d'+'e'; return false;">peltz<span style="display: none;">.nosp@m.</span>@ibr<span style="display: none;">.nosp@m.</span>.cs.t<span style="display: none;">.nosp@m.</span>u-bs<span style="display: none;">.nosp@m.</span>.de</a> Enrico Joerns <a href="#" onclick="location.href='mai'+'lto:'+'joe'+'rn'+'s@i'+'br'+'.cs'+'.t'+'u-b'+'s.'+'de'; return false;">joern<span style="display: none;">.nosp@m.</span>s@ib<span style="display: none;">.nosp@m.</span>r.cs.<span style="display: none;">.nosp@m.</span>tu-b<span style="display: none;">.nosp@m.</span>s.de</a> </dd></dl>

<p>Definition in file <a class="el" href="a00565_source.html">sdcard.h</a>.</p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Apr 24 2014 16:26:17 for Contiki-Inga 3.x by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
